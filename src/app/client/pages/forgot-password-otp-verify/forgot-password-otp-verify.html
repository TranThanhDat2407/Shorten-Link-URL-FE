<section class="py-5">
  <div class="container">
    <div class="row justify-content-center">

      <div class="col-md-5">
        <div class="card shadow-sm rounded-3">
          <div class="card-body p-4">

            <h3 class="text-center mb-3">Verify OTP</h3>
            <p class="text-muted text-center mb-4">
              The OTP has been sent to <strong>{{ maskedEmail }}</strong>
            </p>

            <!-- OTP INPUT FORM -->
            <form (ngSubmit)="verifyOtp()">

              <div class="d-flex justify-content-between mb-4">
                <input *ngFor="let i of otpControls; let idx = index"
                       #otpInput
                       type="text"
                       maxlength="1"
                       class="form-control text-center otp-input"
                       (input)="onInput($event, idx)"
                       (keydown)="onKeyDown($event, idx)"
                       (paste)="onPaste($event)"
                />
              </div>

              <div class="text-danger mt-1 mb-1">
                {{ errorMessage }}
              </div>

              <div class="text-success mt-1 mb-1">
                {{ successMessage }}
              </div>


              <button class="btn btn-primary w-100 mb-3" type="submit">
                Verify OTP
              </button>

              <div class="text-center">
                <span class="text-muted">Didn't receive the code?</span>
                <button
                  class="btn btn-link"
                  (click)="resendOtp()"
                  [disabled]="resendDisabled()">
                  Resend OTP
                  <span *ngIf="resendDisabled()">
    ({{ counter() }})
  </span>
                </button>

              </div>
            </form>

          </div>
        </div>
      </div>

    </div>
  </div>
</section>
